import{i as c,S as w,N as b,P as k,A as L}from"./assets/vendor-D2JjN0B0.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();document.addEventListener("DOMContentLoaded",()=>{const t=`Cakes and cupcakes from 5 $ per piece
with delivery to the Kamianske region.
Freshly baked and packed with care.`,r=document.getElementById("typewriter");let o=0;function s(){o<t.length&&(r.textContent+=t.charAt(o),o++,setTimeout(s,40))}s()});const E=document.querySelectorAll(".catalog .btn"),g=document.getElementById("order-modal"),S=g.querySelector(".modal-close"),x=g.querySelector(".modal-overlay"),T=document.getElementById("modal-product-name");let y="",f="";document.addEventListener("DOMContentLoaded",()=>{if(!document.querySelector(".hero-title"))return;E.forEach(o=>{o.addEventListener("click",s=>{const n=s.target.closest(".block").querySelector(".name").textContent.trim(),a=s.target.closest(".item").querySelector("img").src;y=n,f=a,T.textContent=`(${n})`,g.classList.add("open"),document.body.style.overflow="hidden"})});const r=()=>{g.classList.remove("open"),document.body.style.overflow=""};S.addEventListener("click",r),x.addEventListener("click",r),document.getElementById("modal-form").addEventListener("submit",async o=>{o.preventDefault();const s=o.target.elements.phone.value.trim();if(!s){c.error({title:"Error",message:"Please enter your phone number",position:"topRight"});return}try{const e=await fetch("https://sweet-chest.onrender.com/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:s,product:y,image:f})}),n=await e.json();if(!e.ok||!n.success)throw new Error;c.success({title:"Thank you!",message:`Your order for "${y}" has been sent ðŸ’›`,position:"topRight"}),o.target.reset(),r()}catch(e){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸:",e),c.error({title:"Error",message:"Failed to send message. Try again later ðŸ’”",position:"topRight"})}})});const p=document.getElementById("upload-modal");if(p){const t=p.querySelector('input[type="file"]'),r=p.querySelector('input[name="phone"]'),o=p.querySelector(".upload-preview"),s=p.querySelector("form");t&&o&&t.addEventListener("change",()=>{var i;const e=(i=t.files)==null?void 0:i[0];if(!e)return;const n=8*1024*1024;if(e.size>n){c.warning({title:"Large file",message:"Please choose an image up to 8 MB.",position:"topRight"}),t.value="";return}const a=URL.createObjectURL(e);o.src=a}),s==null||s.addEventListener("submit",async e=>{var l;e.preventDefault();const n=r==null?void 0:r.value.trim(),a=(l=t==null?void 0:t.files)==null?void 0:l[0];if(!a){c.error({title:"Error",message:"Please choose an image.",position:"topRight"});return}if(!n){c.error({title:"Error",message:"Please enter your phone number.",position:"topRight"});return}const i=new FormData;i.append("image",a),i.append("phone",n);try{const u=await fetch("https://sweet-chest.onrender.com/upload",{method:"POST",body:i}),m=await u.json();if(!u.ok||!m.success)throw console.error("Upload error payload:",m),new Error(m.message||"Upload error");c.success({title:"Sent",message:"Photo sent to our pastry chef ðŸ’›",position:"topRight"}),s.reset(),o&&(o.src="")}catch(u){console.error("Upload request error:",u),c.error({title:"Error",message:"Failed to upload photo. Try again later ðŸ’”",position:"topRight"})}})}const h=document.getElementById("ask-modal");if(h){const t=h.querySelector("form"),r=h.querySelector('textarea[name="question"]'),o=h.querySelector('input[name="phone"]');t==null||t.addEventListener("submit",async s=>{s.preventDefault();const e=r==null?void 0:r.value.trim(),n=o==null?void 0:o.value.trim();if(!e){c.error({title:"Error",message:"Please enter a question.",position:"topRight"});return}try{const a=await fetch("https://sweet-chest.onrender.com/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:e,phone:n})}),i=await a.json();if(!a.ok||!i.success)throw console.error("Ask error payload:",i),new Error(i.message||"Ask error");c.success({title:"Sent",message:"Your question was sent ðŸ’›",position:"topRight"}),t.reset()}catch(a){console.error("Ask request error:",a),c.error({title:"Error",message:"Failed to send. Try later ðŸ’”",position:"topRight"})}})}const q=""+new URL("assets/img1-DmrWSVBm.png",import.meta.url).href,C=""+new URL("assets/3camila3-rqIcvNgS.jpg",import.meta.url).href,R=""+new URL("assets/4daniel-DP65KA9i.jpg",import.meta.url).href,P=""+new URL("assets/2tom2-CoryO-Ng.jpg",import.meta.url).href,O=""+new URL("assets/1mark1-BmcS5_Hc.jpg",import.meta.url).href,I=[{id:1,title:"Â«The result was super - my friends were thrilledÂ»",text:"Â«I ordered cupcakes as a New Year gift for my colleagues. The entire process was surprisingly smooth â€” from choosing the box to customizing the flavors. When the delivery arrived, the packaging looked so premium that everyone thought it was from a luxury boutique. The cupcakes were incredibly moist and flavorful, not overly sweet, with natural ingredients. My friends were amazed and kept asking where I ordered them. I will definitely return for more celebrations and recommend this bakery to everyone who values quality and aesthetics!Â»",avatar:q,name:"Irina Larionova",city:"Kyiv"},{id:2,title:"Â«Delicious and beautifully decorated!Â»",text:"Â«I ordered cupcakes for my daughterâ€™s birthday in Dnipro. The decorations were stunning â€” very delicate, with fresh berries and edible gold. The taste exceeded all expectations: light cream, perfect sponge, and not a single artificial flavor. Delivery was on time, the manager helped choose the best assortment for kids and adults. Every guest asked if the cupcakes were homemade because they looked so personal and stylish. This bakery made our celebration truly special!Â»",avatar:C,name:"Anna Demidova",city:"Dnipro"},{id:3,title:"Â«Perfect gift â€” exceeded expectations!Â»",text:"Â«I ordered a gift box of cupcakes for my friends in Lviv as a surprise. They were delivered early in the morning, beautifully packed with a personalized card. When we opened the box, the aroma alone made us smile. Each cupcake tasted like it was baked individually for us â€” fresh cream, berries, delicate chocolate. The combination of flavors was sophisticated yet cozy. It truly felt like a luxury dessert experience. Thank you for creating emotions, not just sweets!Â»",avatar:R,name:"Oleg Petrov",city:"Lviv"},{id:4,title:"Â«Absolutely unforgettable taste!Â»",text:"Â«We ordered cupcakes for a corporate event in Kharkiv. Honestly, I didnâ€™t expect such a wow-effect: every piece was a small piece of art. The staff said these were the best desserts they had ever tried. The cream was airy, not greasy, the flavors were natural and balanced. The packaging represented our brand colors, which made it even more impressive. These cupcakes were not just dessert â€” they were the highlight of the event!Â»",avatar:P,name:"Viktor Shevchenko",city:"Kharkiv"},{id:5,title:"Â«Elegant, delicious, and full of love!Â»",text:"Â«I wanted something special for my motherâ€™s anniversary in Odesa, so I decided to order cupcakes instead of a traditional cake. It was the best decision ever! The cupcakes looked elegant with gentle floral decor, and each flavor told its own story. My mother was touched to tears. All guests were amazed by the taste â€” it was not just sweet, it was emotional. Thank you for making our family celebration unforgettable and warm!Â»",avatar:O,name:"Mark Holub",city:"Odesa"}];function A(){const t=document.getElementById("reviews-wrapper");t&&(t.innerHTML=I.map(r=>`
      <div class="swiper-slide">
        <article class="review-card">
          <div class="review-quote">
            <div class="mark">
              <svg width="40" height="28" viewBox="0 0 40 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.78 9.99C13.61 9.99 17.52 13.9 17.52 18.73C17.52 23.56 13.61 27.47 8.78 27.47C3.95 27.47 0.04 23.56 0.04 18.73L0 17.48C0 7.83 7.83 0 17.48 0V4.99C14.15 4.99 11.01 6.29 8.65 8.65C8.2 9.11 7.78 9.59 7.41 10.1C7.86 10.03 8.31 9.99 8.78 9.99ZM31.26 9.99C36.09 9.99 40 13.9 40 18.73C40 23.56 36.09 27.47 31.26 27.47C26.43 27.47 22.52 23.56 22.52 18.73L22.48 17.48C22.48 7.83 30.31 0 39.96 0V4.99C36.63 4.99 33.49 6.29 31.13 8.65C30.68 9.11 30.26 9.59 29.89 10.1C30.33 10.03 30.79 9.99 31.26 9.99Z" fill="#5D6AFB"/>
              </svg>
            </div>
            <div class="review-text">
              <h3>${r.title}</h3>
              <p class="review-content">${r.text}</p>
              <button class="read-more-btn">Read full review</button>
            </div>
          </div>
          <div class="review-avatar">
            <img src="${r.avatar}" alt="${r.name}" loading="lazy"/>
            <div class="name">${r.name}</div>
            <div class="city">${r.city}</div>
          </div>
        </article>
      </div>`).join(""))}function D(){const t=new w(".reviews-swiper",{modules:[b,k,L],loop:!0,slidesPerView:"auto",centeredSlides:!0,spaceBetween:40,speed:700,autoHeight:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,autoplay:{delay:8e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{init(){this.params.autoHeight=!1,setTimeout(()=>{this.params.autoHeight=!0,this.updateAutoHeight(400)},600)},slideChangeTransitionEnd(){this.updateAutoHeight(300)}}});return document.querySelector(".reviews-swiper").addEventListener("click",o=>{const s=o.target.closest(".read-more-btn");if(!s)return;const e=s.previousElementSibling;e&&(e.classList.toggle("expanded"),s.textContent=e.classList.contains("expanded")?"Hide review":"Read full review",t.updateAutoHeight(400))}),t}document.addEventListener("DOMContentLoaded",()=>{A(),setTimeout(()=>D(),200)});document.addEventListener("DOMContentLoaded",()=>{console.log("DOM loader");const t=document.querySelectorAll(".gallery-img"),r=document.getElementById("gallery-modal"),o=r.querySelector(".gallery-modal-img"),s=r.querySelector(".gallery-modal-close"),e=r.querySelector(".gallery-modal-prev"),n=r.querySelector(".gallery-modal-next");let a=0;t.forEach((d,v)=>{d.addEventListener("click",()=>{a=v,i(d.src)})});function i(d){o.src=d,r.classList.add("show"),document.body.style.overflow="hidden"}function l(){r.classList.remove("show"),document.body.style.overflow=""}s.addEventListener("click",l),r.addEventListener("click",d=>{d.target.classList.contains("gallery-modal-overlay")&&l()});function u(){a=(a-1+t.length)%t.length,o.src=t[a].src}function m(){a=(a+1)%t.length,o.src=t[a].src}e.addEventListener("click",u),n.addEventListener("click",m),document.addEventListener("keydown",d=>{r.classList.contains("show")&&(d.key==="Escape"&&l(),d.key==="ArrowLeft"&&u(),d.key==="ArrowRight"&&m())})});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".order-form");t&&t.addEventListener("submit",async r=>{r.preventDefault();const o=t.querySelector('input[name="phone"]'),s=o==null?void 0:o.value.trim(),e=document.querySelector(".order-checkbox");if(!s){c.error({title:"Error",message:"Please enter your phone number.",position:"topRight"});return}if(!/^\+?\d[\d\s\-\(\)]{8,}$/.test(s)){c.warning({title:"Invalid number",message:"Please enter a valid phone number.",position:"topRight"});return}if(e&&!e.checked){c.warning({title:"Consent required",message:"Please agree to personal data processing.",position:"topRight"});return}const a=t.dataset.product||"";try{const i=await fetch("https://sweet-chest.onrender.com/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:s,product:a})}),l=await i.json();if(!i.ok||!l.success)throw console.error("Telegram error payload:",l),new Error(l.message||"Telegram error");c.success({title:"Success",message:"Your order has been sent! Weâ€™ll call you back soon ðŸ’›",position:"topRight"}),t.reset(),e&&(e.checked=!1)}catch(i){console.error("Request error:",i),c.error({title:"Error",message:"Failed to send message. Try again later ðŸ’”",position:"topRight"})}})});
//# sourceMappingURL=index.js.map
